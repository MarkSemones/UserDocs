<html>
<head>
<link href="resources/css/doc-style.css" media="all" rel="stylesheet" type="text/css" />
<script src="//use.typekit.net/jff5neq.js" type="text/javascript"></script>
<script type="text/javascript">




try{Typekit.load();}catch(e){}
</script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="resources/scripts/vkbeautify.js"></script>

<title>Workday Provisioning</title>

<script src="resources/scripts/getAppValues.js"></script>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">





</head>
<body>
<div class="header clearfix">
        <div class="logo-container">
            <img src="resources/css/okta-logo-white.png" alt="Okta" />
        </div>
    </div>
<div class="okta-instructions">



<h1>Configuring Writeback for Workday</h1>

<p>This guide provides the steps required to configure Provisioning for Workday.</p>

<div class="okta-callout okta-warning"><span class="icon-24 icon-warning"></span>
<p>This guide currently only describes how to configure our Workday <em>writeback</em> feature. We are in the process of expanding this guide to include more provisioning information for the Workday app.</P>
</div>
<h2>Overview</h2>

<p>We have added the ability to write back email and phone number attributes to Workday.</p>
<p>Previously, Okta could not update Workday Attributes. With this new <em>writeback</em> feature, Okta, as well as Active Directory, or any other Profile Master to update <strong>Phone Number</strong> and <strong>Email</strong> Workday attributes. Note that no other Workday attributes are supported at this time.</p>

<p>To enable Workday writeback for email and phone number. Enable the following feature flags.</p>
<ul>
<li>PROV_WORKDAY_PROFILE_UPDATE</li>
<li>ALLOW_BOTH_PROFILE_MASTERING_AND_PUSH</li>
<li>ATTRIBUTE_LEVEL_MASTERING</li>
</ul>

<h2>Prerequisites</h2>


<p>Set up a Workday tenant, as described in the <a href="https://support.okta.com/help/articles/Knowledge_Article/96431486-Workday-Deployment-Guide-Version-4-0" style="color="blue";" target="_blank">Workday Deployment Guide</a>.



</p>


<h2>Okta Setup </h2>

<ol>
<li><p>In Okta, open the Workday app, and navigate to the <strong>Provisioning</strong> tab:</p>
<p><img src="images/apps/workday1.png" alt="workday1.png" /></p>
</li>

<li><p>Scroll down and select <strong>Enable</strong> for <strong>Update User Attributes</strong>:</p>
<p><img src="images/apps/workday2.png" alt="workday2.png" /></p>
</li>


<li><p>Under <strong>Profile Attribute and Mappings</strong> click <strong>Edit Attributes</strong>:</p>
<p><img src="images/apps/workday3.png" alt="workday3.png" /></p>
</li>

<li><p>We need to now add those Workday attributes that are currently supported for writeback. This is done by discovering attributes from workday and mapping to relevant Okta attributes. Click <strong>Add Attribute</strong>:</p>
<p><img src="images/apps/workday4.png" alt="workday4.png" /></p>
</li>

<li><p>Click <strong>Refresh Attributes</strong>:</p>
<p><img src="images/apps/workday5.png" alt="workday5.png" /></p>
</li>


<li><p>Add the required Workday attributes, then click <strong>Save</strong>:</p>
<p>Note that each attribute has three different data types which are explained below. In this table, we are using the attribute <em>Work Email</em> as an example:</p>

<table class="gridtable">

<tr>

<th>Attribute Name</th>
<th>Type</th>
<th>Description</th>
<th>Required/Optional</th>
<th>Comments</th>
<th>Sample Values</th>
</tr>

<tr>
<td align="left">Work Email</td>
<td align="left">String</td>
<td align="left">workEmail</td>
<td align="left">Required</td>
<td align="left">Map to Okta user attribute</td>
<td align="left">OktaCustomWorkEmail</td>
</tr>
<tr>
<td align="left">Set Work Email As Primary</td>
<td align="left">Boolean</td>
<td align="left">setWorkEmailAsPrimary	</td>
<td align="left">Optional</td>
<td align="left">If Work email that is pushed needs to be set as Primary, set value as true. Default is true.</td>
<td align="left">true</td>
</tr>

<tr>
<td align="left">Set Work Email As Public</td>
<td align="left">Boolean</td>
<td align="left">setWorkEmailAsPublic</td>
<td align="left">Optional</td>
<td align="left">If Work email that is pushed needs to be set as Public, Set value as true. Default is true.</td>
<td align="left">false</td>
</tr>



</table>

<p>Workday Contact information has 2 parameters: <strong>Primary</strong> and <strong>Public</strong>:</p>
<p><strong>Primary</strong>: This parameter defines if the contact information is of type Primary or Additional.</p>
<p><strong>Public</strong>: This parameter defines if the contact information visibility is Public or Private.</p>
<p><img src="images/apps/workday6.png" alt="workday6.png" /></p>

<p>A table at the end of this article lists the Workday attributes that are currently supported.</p>
</li>


<li><p>Map the newly added attribute(s) to relevant Okta attribute(s). Click <strong>Map Attributes</strong></p></p>
<p><img src="images/apps/workday7.png" alt="workday7.png" /></p>
</li>

<li><p>Make sure you select <strong>Okta to Workday</strong>, then map attributes:</p>
<p><img src="images/apps/workday8.png" alt="workday8.png" /></p>

<p><strong>Example Expression Language Function</strong></p>
<p>Note: See <a href="http://developer.okta.com/docs/api/getting_started/okta_expression_lang.html#string-functions" style="color="blue";" target="_blank">http://developer.okta.com/docs/api/getting_started/okta_expression_lang.html#string-functions</a> for reference.</p>

<p>To parse phone numbers:</p>

<p>For <strong>user.mobilePhone = +1 (415) 123-4567 x 12345</strong></p>
<pre><p>Work Mobile Phone AreaCode:
String.substringBefore(String.substringAfter(user.mobilePhone, "(" ), ")" ) -> 415</p>
<p>Work Mobile Phone InternationalPhoneCode:
String.removeSpaces(String.substringBefore(String.substringAfter(user.mobilePhone, "+" ), "(" )) -> 1</p>
<p>Work Mobile Phone PhoneNumber:
String.removeSpaces(String.substringBefore(String.substringAfter(user.mobilePhone, ")" ), "x" )) --> 123-4567</p>
<p>Work Mobile Phone PhoneExtension:
String.removeSpaces(String.substringAfter(user.mobilePhone, "x")) -> 12345</p></pre>


</li>
<li><p>Attribute-Level Mastering</p>
<p>In the typical Workday write-back use case, Workday is set as the overall Profile Master. However, to have email and/or phone number written back into Workday, you need to configure attribute-level mastering with Okta, Active Directory, or some other app as Profile Master for those specific attributes. See the following example:</p>

<ul>
<li><p>From the Okta Admin Home page, navigate to <strong>Directory > Profile Editor</strong>.</p></li>
<li>Under <strong>OKTA</strong>, click <strong>User</strong> as shown below. Here you can see the <strong>Profile master priority</strong> as Workday, followed by Active Directory:




<p><img src="images/apps/workday9.png" alt="workday9.png" /></p></li>

</li>
<p>Under Master Priority we can set any available Profile master to be the source of truth. In this example we will set it to Active directory since we are pushing from AD to OKTA to Workday.</p>
<p><img src="images/apps/workday10.png" alt="workday10.png" /></p>

</li>

</ol>

<p>This completes the setup for Workday Write Back. Now we can successfully push email and phone attributes to Workday.</p>

<h2>Known Issues</h2>
<ol>
<li><p>Unlike the Workday UI, the Workday API does not have format validation/rules for phone number or email (for example: Phone number format must be 3 Digits + Optional dash (or dot) + 4 digits).</p></li>

<li><p>Once Okta sets the Primary Workday attributes, it will not be able to set it back to NULL. This is because a Workday validation rule does not allow NULL values.</p></li>
</ol>


</div>
</body>
</html>
