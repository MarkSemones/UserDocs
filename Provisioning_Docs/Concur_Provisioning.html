<html>
<head>
<link href="resources/css/doc-style.css" media="all" rel="stylesheet" type="text/css" />
<script src="//use.typekit.net/jff5neq.js" type="text/javascript"></script>
<script type="text/javascript">
try{Typekit.load();}catch(e){}
</script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="resources/scripts/vkbeautify.js"></script>

<title>Concur Provisioning</title>

<script src="resources/scripts/getAppValues.js"></script>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body>
<div class="header clearfix">
        <div class="logo-container">
            <img src="resources/css/okta-logo-white.png" alt="Okta" />
        </div>
    </div>
<div class="okta-instructions">

<div id="loginAdminApp" class="okta-callout okta-error" style="display: none;"><span class="icon-24 icon-error"></span>
<p>To reconfigure any of the <strong>General Settings</strong> or <strong>Sign-On Options</strong>, uncheck the <strong>Enable provisioning features</strong> box, and use the <strong>Previous</strong> and <strong>Next</strong> buttons to navigate through the configuration screens.</p>
</div>


<h1>Configuring Provisioning for Concur</h1>

<p>This guide provides the steps required to configure Provisioning for Concur.</p>


<h2>Features</h2>
<p>The following provisioning features are supported:</p>
<ul>
<li>Schema Discovery</li>
<li>Create Users</li>
<li>Update User Attributes</li>
<li>Deactivate Users</li>
<li>Sync Password</li>
</ul>
<p><strong>Note</strong>: Import of Users is currently supported only in CSV format.</p>



<h2>Requirements</h2>
<ul>

<li><p>Universal Directory for Concur is an <strong>Early Access</strong> feature. If you would like to turn on UD for Concur, contact Okta Support to enable the following feature flag: <strong>PROV_CONCUR_CLOUD_DIRECTORY_ENABLE</strong>.</p></li>

<li>Before setting up provisioning, ensure that Web Services subscription is enabled for your Concur tenant. Once the subscription is enabled, follow the steps below to enable the Okta application in the Concur:</p></li>
</ul>

<ol>
<li><p>Login to Concur (commonly, <a href="https://www.concursolutions.com" target="_blank">https://www.concursolutions.com</a>) with your Concur Admin account.</p></li>
<li><p>Navigate to <strong>Administration > Company > Web Services</strong>.</p>
<p><p><img src="images/apps/concur1.png" alt=“concur1.png" /></p></li>
<li><p>Navigate to <strong>Enable Partner Application</strong>, then find <strong>Okta</strong> in the list and make sure it is <strong>Enabled</strong>.</p>
<p><strong>Note</strong>: Contact Concur to enable the Okta application for your Concur tenant if the application does not appear in the Web Services section.</p>

<p><p><img src="images/apps/concur2.png" alt=“concur2.png" /></p></li>


<h2>Configuration Steps</h2>
<ol>

<li><p>Configure your <strong>Provisioning</strong> settings for Concur as follows:</p>
<ul>
<li><p>Check the <strong>Enable provisioning features</strong> box.</p></li>
<li><p>In the <strong>API Authentication</strong> section, click <strong>Authenticate with Concur</strong>:</p>
<p><p><img src="images/apps/concur4.png" alt=“concur4.png" /></p></li>

</li>
<li><p>A new window will appear displaying the Concur login page. Enter your Concur Admin credentials and log in.</p></li>

<li><p>A new window will appear displaying the Concur login page. Enter your Concur Admin credentials and log in.</p></li>

<li><p>A message will appear with option to allow Okta to connect to your tenant. Choose <strong>Allow</strong> for provisioning to work.</p>
<p><p><img src="images/apps/concurnew.png" alt=“concurnew.png" /></p></li>

</li>


<li><p>Now your app is authenticated, scroll down the Provisioning page and select those provisioning features you want to enable:</p>
<p><p><img src="images/apps/concur5.png" alt=“concur.png" /></p></li>

</li>
<li><p>Click <strong>Next</strong>.</p></li>

</ul>
<li><p>You can now assign people to the app (if needed) and finish the application setup.</p></li>

<li><p>The required attributes in Concur depend on your Concur tenant settings. Follow the steps bellow to add all required user attributes to the user profile:</p>

<ul>

<li><p>In Okta, from the Admin dashboard, select <strong>Directory > Profile Editor</strong>.</p></li>

<li><p>Select the <strong>APPS</strong> section in the left navigation bar, then find your app in the list.</p>
<p><p><img src="images/apps/concur6.png" alt=“concur6.png" /></p></li>

</li>
<li><p>Select <strong>Add Attribute</strong>, then <strong>Refresh Attribute List</strong> to see the latest list of Concur attributes:</p>
<p><p><img src="images/apps/concur7.png" alt=“concur7.png" /></p></li>

<li><p>Make sure that all attributes with the <strong>Required attribute</strong> in the description is selected. Additionally, you can add more attributes of your choice.</p></li>
<li><p><strong>Save</strong> the profile.</p></li>


</li>

<li><p>Setup is now complete.</p></li>


</ul>
</li>

<h3>Attributes in Base Profile</h3>

<p>There are few special attributes in Base user profile, they are:</p>
<ul>
<li>Locale Name</li>
<li>Country Code</li>
<li>Currency Key</li>
<li>Expense Group ID</li>
<li>Ledger Key</li>
</ul>
<p>For these attributes Concur has a pre-defined list of allowed values per tenant, and you will experience errors if you use a wrong value.So please make sure you know what to enter here. See the <strong>Schema Discovery </strong>section to see how to get allowed values.</p>

<br />

<h2>Schema Discovery</h2>



<p>This application supports Schema Discovery feature, which allows to extend the list of attributes to sync with Concur. Some attributes are restricted by Concur to allow values only from a predefined list. Due to API limitation we cannot get these values. Such attributes have the following note in their description: <em>The valid values for this field are restricted and configured in Concur</em>.</p>
<p><img src="images/apps/concur8.png" alt=“concur8.png" /></p>

<p>To get a list of allowed values for these attributes, go to Concur web-site, navigate to the <strong>Add User</strong> form and check the values for the selected field.</p>
<p>Here's an example for <strong>Expense Group ID</strong> attribute:</p>
<p><img src="images/apps/concur9.png" alt=“concur9.png" /></p>


<h2>Troubleshooting Tips</h2>



<p>Most common errors are:</p>
<ul>
<li><p>Concur's required field was not added to the User profile or had an empty value:</p>
<p><img src="images/apps/concur10.png" alt=“concur10.png" /></p>
<p>To fix this, make sure you added the required field to your Application User profile and provide it with a valid value.</p>
</li>

<li><p>Set a wrong value to a field, for which valid values are strictly defined:</p>
<p><img src="images/apps/concur11.png" alt=“concur11.png" /></p>
<p>To fix this, provide a field with a valid value. Check Schema Discovery section on how to get valid values.</p>
</li>
</ul>

<h2>Migration from Legacy Concur Application to Universal Directory</h2>

<p>In order to enable UD support for Concur:</p>
<ol>
<li><p>Contact Okta support team and request the following feature flag be enabled for your Okta org: <strong>PROV_CONCUR_CLOUD_DIRECTORY_ENABLE</strong>.</p></li>
<li><p>Once the feature is enabled, add a new instance of the Concur App. 
<p><strong>Note</strong>: We do not recommend reusing your existing instance of the Concur app for UD features.</p></li>
<li><p>Follow the steps above to configure the new application powered with UD features.</p></li>

</div>
</body>
</html>
