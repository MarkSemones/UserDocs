<html>
<head>
    <link href="resources/css/doc-style.css" media="all" rel="stylesheet" type="text/css" />
    <script src="//use.typekit.net/jff5neq.js" type="text/javascript"></script>
    <script type="text/javascript">
        try{Typekit.load();}catch(e){}
    </script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="resources/scripts/vkbeautify.js"></script>

    <title>Setup SSO</title>

    <script src="resources/scripts/getAppValues.js"></script>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body>
<div class="header clearfix">
    <div class="logo-container">
        <img src="resources/css/okta-logo-white.png" alt="Okta" />
    </div>
</div>
<div class="okta-instructions">
<h1>How to Configure SAML 2.0 for Chatter</h1>
    <div id="loginAdminApp" class="okta-callout okta-error" style="display: none;"><span class="icon-24 icon-error"></span>
        <p>This setup might fail without parameter values that are customized for your organization. Please use the Okta Administrator Dashboard to add an application and view the values that are specific for your organization.</p>
    </div>
    <h2>Go to the Single Sign-On Settings page in Chatter</h2>
    <p><a href="https://login.salesforce.com" target="_blank">CLICK HERE</a> to log in to Chatter with the same administrator username and password-token used for User Management settings in Okta.</p>
    <ol>
        <li>
            <p>Click on <strong>Setup</strong></p>
        </li>
        <li>
            <p>Click <strong>Security Controls</strong> to open the sub-menu</p>
        </li>
        <li>
            <p>Click <strong>Single Sign-On Settings</strong></p>
        </li>
    </ol>
    <p><img src="images/apps/sf1.png" alt="sf1.png" /></p>
    <h3>On the Single Sign-On Settings page</h3>
    <p>Click the <strong>Edit</strong> button to display a form similar to the screenshot below.</p>
    <ol>
        <li>
            <p>Check <strong>SAML Enabled</strong> and a form will display</p>
        </li>
        <li>
            <p>Set the <strong>SAML Version</strong> to <strong>2.0</strong></p>
        </li>
        <li>
            <p>If you have Multiple End-points enabled, the configuration page may ask you to setup a&nbsp;<strong>Name</strong>&nbsp;and&nbsp;<strong>API Name</strong>. Set these values according to your preference.</p>
        </li>
        <li>
            <p>Download your Okta Identity Provider Certificate then upload it in the <strong>Identity Provider Certificate</strong> field</p>
            <kbd id="downloadCertificate">Sign into the Okta Admin dashboard to generate this value</kbd></li>
        <li>
            <p>Copy and paste the following key into <strong>Issuer</strong>:</p>
            <kbd id="issuer">Sign into the Okta Admin dashboard to generate this value</kbd></li>
        <li>
            <p><strong>(Optional)</strong> Copy and paste the following URL into <strong>Identity Provider Login URL</strong>:</p>
            <kbd id="signOnUrl">Sign into the Okta Admin dashboard to generate this value</kbd>
            <p>This URL will authenticate your users when they attempt to log in directly to Chatter or click on a deep link in Chatter and are not currently authenticated.</p>
        </li>
        <li>
            <p><strong>(Optional)</strong> Copy and paste the following URL into <strong>Identity Provider Logout URL</strong>:</p>
            <kbd id="signOutUrl">Sign into the Okta Admin dashboard to generate this value</kbd>
            <p>This URL sends your users to their Okta home page when they log out of Chatter.</p>
        </li>
        <li>
            <p>Set the <strong>SAML User ID Type/SAML Identity Type</strong> to <strong>Assertion contains User's chatter.com username</strong></p>
        </li>
        <li>
            <p>Set the <strong>SAML User ID Location/SAML Identity Location</strong> to <strong>User ID/identity is in the NameIdentifier element of the Subject statement</strong></p>
        </li>
        <li>
            <p>For<strong>&nbsp;Entity ID</strong>,&nbsp;</p>
        </li>
        <ul>
            <li>If you have a custom domain setup, use<strong>&nbsp;https://&lt;customDomain&gt;.my.salesforce.com</strong>.</li>
            <li>If you do not have a custom domain setup, use&nbsp;<strong><a style="text-decoration: none; color: black;" onclick="return false;">https://saml.salesforce.com</a></strong>.</li>
        </ul>
        <li>For <strong>Service Provider Initiated Request Binding</strong>, select <strong>HTTP POST&nbsp;</strong><em>(Depending on the Salesforce environment you are in, you may or may not be asked for this value)</em></li>
        <li>
            <p>Click <strong>Save</strong></p>
        </li>
        <li>Look for the&nbsp;<strong>Salesforce Login URL</strong>&nbsp;which will appear after clicking&nbsp;Save.<br /><br /><img src="images/apps/bling.png" alt="bling.png" /></li>
        <li>In Okta, go to the <strong>Sign On</strong> tab of the Chatter app, and enter the <strong>Salesforce Login URL</strong> in the <strong>Login URL</strong> field.&nbsp;<br /><br /><img src="images/apps/Screen+Shot+2013-12-17+at+4.51.02+PM.png" alt="Screen_Shot_2013-12-17_at_4.51.02_PM.png" /></li>
        <li>If you are using a custom domain, then enter that value in the <strong>Custom Domain</strong> field in Okta, otherwise leave it blank.</li>
        <li>Click Save.&nbsp;</li>
        <li>Done!</li>
    </ol><br />
   
</div>
</body>
</html>
