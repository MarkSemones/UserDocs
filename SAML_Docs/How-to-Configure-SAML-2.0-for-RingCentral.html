<html>
<head>
<link href="resources/css/doc-style.css" media="all" rel="stylesheet" type="text/css" />
<script src="//use.typekit.net/jff5neq.js" type="text/javascript"></script>
<script type="text/javascript">
try{Typekit.load();}catch(e){}
</script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script><script src="resources/scripts/vkbeautify.js"></script>

<title>Setup SSO</title>

<script src="resources/scripts/getAppValues.js"></script>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body>
<div class="header clearfix">
        <div class="logo-container">
            <img src="resources/css/okta-logo-white.png" alt="Okta" />
        </div>
    </div>
<div class="okta-instructions">
<h1>How to Configure SAML 2.0 for RingCentral</h1>

<div id="loginAdminApp" class="okta-callout okta-danger" style="display: none;">
<p><strong>This setup might fail without parameter values that are customized for your organization. Please use the Okta Administrator Dashboard to add an application and view the values that are specific for your organization.</strong></p>
</div>
<h2>Before you begin</h2>
<div class="okta-callout okta-warning"><span class="icon-24 icon-warning"></span>
<h3><strong>Read this before you enable SAML</strong></h3>
<p>The RingCentral application is pre-configured to pass a required custom attribute <strong>Phone Number</strong> (which is mapped to <strong>primaryPhone</strong> in Okta User Base Profile) as part of the SAML assertion. This attribute is required if you choose to use <strong>Phone Number</strong> as the <strong>SSO Unique ID</strong> for user mapping in RingCentral. In order to be able to send custom attributes, your Okta organization needs to have the following feature flags turned on:</p><br />
<li><p>CLOUD_DIRECTORY (Universal Directory)</p></li>
<li><p>OKTA_EL_SAML_ATTRIBUTE_UPGRADE</p></li><br />
<p>Once these feature flags are turned on, ensure that the <strong>primaryPhone</strong> attribute is populated in the Okta User Base Profile and has the correct attribute mapping set with AD/LDAP. If this value is empty, Okta will pass a null value to RingCentral for the <strong>Phone Number</strong> attribute.</p>
<p>Visit your <strong>RingCentral Admin console > Tools > Single Sign-on > Enable SSO Integration</strong> to set your <strong>Unique SSO ID</strong> to <strong>Phone Number</strong>. You can alternatively use <strong>Email</strong> as the <strong>Unique SSO ID</strong> for user mapping.</li>
 </p>
</div>
<ol>
<li>
<p>Generate the following <strong>IDP Metadata</strong> and save to a file named metadata.xml:</p>
<strong>&nbsp;<textarea id="idpMetadata" style="margin: 0px; width: 817px; height: 190px;">Sign into the Okta Admin Dashboard to generate this variable.</textarea></strong></li>
<li>Send an email to RingCentral support and request that they enable SAML 2.0 for your organization.</li>
<li>Attach the <em>metadata.xml</em> file you created in step 1 to the email message.</li>
<li>RingCentral will process your request and send you back an SP metadata file.</li>
<li>Open the SP metadata file in a text editor:<br />
<p><img src="images/apps/ringNew.png" alt=“ringNew.png" /></p>

</li>
<li>In Okta, select the <strong>General</strong> tab for the RingCentral app:

<ul>

<li>Copy the value of the <strong>entityID</strong> field in the SP metadata file into the <strong>Audience Restriction</strong> field in Okta.
<li>Copy the value of the <strong>Location</strong> field in the SP metadata file into the <strong>ACS Url</strong> field in Okta.
<br />
<p><img src="images/apps/ringcentral2.png" alt=“ringcentral2.png" /></p>
</li>
</ul>



</li>
<li>In Okta, select the <strong>Sign On</strong> tab for the RingCentral app:
<ul>

<li>For <strong>Default Relay State</strong> enter: <strong>https://service.ringcentral.com/mobile/ssoLogin</strong>.
<p><img src="images/apps/ringcentral3.png" alt=“ringcentral3.png" /></p>
</li>
</ul>

</li>


<li><p>Done!</p><p><b>Notes:</b></p>
<p>IdP-initiated flows and SP-initiated flows are supported. </p>
<p>Just In Time (JIT) provisioning is not supported.</p>

<p>For an SP-initiated flow:</p>
<ol>
<li><p>Go to <a href="https://service.ringcentral.com/login/startupSSOLogin.html" target="_blank">https://service.ringcentral.com/login/startupSSOLogin.html</a>. </p>
<li>Enter your email address.</li>
<li>Click <strong>Continue</strong>.</li>

<p><img border="1" src="images/apps/ringcentral4.png" alt=“ringcentral4.png" /></p>
</ol>

</li>

</ol>
</div>
</body>
</html>
