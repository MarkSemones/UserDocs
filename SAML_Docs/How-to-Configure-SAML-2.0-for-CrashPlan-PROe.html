<html>
<head>
<link href="resources/css/doc-style.css" media="all" rel="stylesheet" type="text/css" />
<script src="//use.typekit.net/jff5neq.js" type="text/javascript"></script>
<script type="text/javascript">
try{Typekit.load();}catch(e){}
</script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script><script src="resources/scripts/vkbeautify.js"></script>

<title>Setup SSO</title>

<script src="resources/scripts/getAppValues.js"></script>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body>
<div class="header clearfix">
        <div class="logo-container">
            <img src="resources/css/okta-logo-white.png" alt="Okta" />
        </div>
    </div>
<div class="okta-instructions">
<h1>How to Configure SAML 2.0 for CrashPlan PROe</h1>
<div id="loginAdminApp" class="okta-callout okta-error" style="display: none;"><span class="icon-24 icon-error"></span>
<p>This setup might fail without parameter values that are customized for your organization. Please use the Okta Administrator Dashboard to add an application and view the values that are specific for your organization.</p>
</div>
<div class="okta-callout okta-warning"><span class="icon-24 icon-warning"></span>
<h3>Read this before you enable SAML</h3>
<p>CrashPlan PROe supports an SP-initiated SAML flow. For the convenience of your end users, <strong>Okta recommends that you hide the CrashPlan PROe app and set up a Bookmark app</strong> with the CrashPlan PROe logo after you complete this SAML setup. For instructions on setting up a Bookmark app and hiding the original app, see <a href="https://support.okta.com/entries/27685638-Simulating-an-IDP-initiated-Flow-with-the-Bookmark-App" target="_blank">Simulating an IDP-initiated Flow with the Bookmark App</a>.</p>
<p><span>Two-way communication on TCP ports 80 and 443 between the Identity Provider and PROe Master Server is required. The Service Provider (Crashplan PROe) and Identity Provider (Okta) must be able to communicate with each other to perform metadata exchange</span></p>
</div>
<ol>
<li>
<p>Sign in to CrashPlan PROe with administrator privileges. Go to <strong>Settings &gt; Security</strong>, select the <strong>Single Sign-On</strong> tab, then select <strong>Add Identity Provider or Federation</strong> as shown below:</p>
<p><img style="border: 0; padding: 0;" src="images/apps/CrashPlanProeNew1.png" alt="CrashPlanProeNew1.png" /></p>
</li>


<li><p>The Identity Provider screen appears.</p></li>
<li><p>Enter the following <strong>Identity Provider metadata URL</strong>, then click <strong>Continue</strong>.</p>
<p><kbd id="metadataUrl">Sign in to the Okta Admin app to have this variable generated for you</kbd></p>
<p><img style="border: 0; padding: 0;" src="images/apps/CrashPlanProeNew2.png" alt="CrashPlanProeNew2.png" /></p>

</li>

<li><p>The Identity Provider additional settings screen appears (see screen below). Enter the following:</p>
<ul>
<li><p><strong>Display Name</strong>: Okta.</p></li>

<li><p>Make sure the <strong>Use default mapping</strong> checkbox is selected.</p></li>
<li><p>Click <strong>Save</strong>.</p>
<p><img style="border: 0; padding: 0;" src="images/apps/CrashPlanProeNew3.png" alt="CrashPlanProeNew3.png" /></p>

</li>
</ul>
</li>

<li><p>In the left navigational menu, select <strong>Settings > Server</strong>. Then in the <strong>Server Settings</strong> pane that subsequently opens, copy the value from the <strong>Website protocol, host and port</strong> field:</p>
<p><img style="border: 0; padding: 0;" src="images/apps/CrashPlanProeNew4.png" alt="CrashPlanProeNew4.png" /></p>
</li>


<li>In Okta, go to the <strong>General</strong> tab for the CrashPlan PROe app, as shown below. Paste the information you copied in the last step into the <strong>Server URL</strong> field.<br /><br /><strong>Important:</strong> <br />
<ul>
<li>If the port number is <em>not</em> 4285, you must paste in the value and, if necessary, change the last four digits to <strong>4285</strong>.</li>
<li>You must change your protocol to <strong>https</strong>. If this is not the current protocol, change it within the <strong>Server Url</strong> field.</li>
</ul>
<br /><img style="border: 0; padding: 0;" src="images/apps/CrashPlanProeNew5.png" alt="CrashPlanProeNew5.png" /></li>
<li>
<p>You can enable Okta SAML SSO in CrashPlan PROe globally, or for a particular organization.</p>
<ul>
<li>To enable globally, follow step 8 below then continue to step 10.</li>
<li>To enable for a particular organization, follow step 9 then continue to step 10.</li>
</ul>
</li>




<li>To set SAML authentication globally for all organizations:
<ol>
<li><p>Select the <strong>Settings > Organization > Security</strong> tab.</p></li>
<li><p>For <strong>Select an authentication method</strong>: Select <strong>SSO</strong>.</p></li>
<li><p>For <strong>Choose provider(s)</strong>: Select <strong>Okta</strong>.</p></li>
<li><p>Select <strong>Save</strong>.</p>
<p><img style="border: 0; padding: 0;" src="images/apps/CrashPlanProeNew6.png" alt="CrashPlanProeNew6.png" /></p>
</li>
</ol>
</li>

<li>To set SAML authentication for a particular organization:
<ol>
<li><p>Select <strong>Organizations</strong>.</p></li>
<li><p>Click an organization name. In the example below, the organization name is <strong>OktaTest</strong>.</p>
<p><img style="border: 0; padding: 0;" src="images/apps/CrashPlanProeNew7.png" alt="CrashPlanProeNew7.png" /></p>

</li>
<li><p>In the screen that opens for your selected organization, select the gear icon at the top right, as shown below; then select <strong>Edit</strong> on the menu that appears:</p>
<p><img style="border: 0; padding: 0;" src="images/apps/CrashPlanProeNew8.png" alt="CrashPlanProeNew8.png" /></p>


</li>
<li><p>For <strong>Select an authentication method</strong>: Select <strong>SSO</strong>.</p></li>
<li><p>For <strong>Choose provider(s)</strong>: Select <strong>Okta</strong>.</p>
<p><img style="border: 0; padding: 0;" src="images/apps/CrashPlanProeNew9.png" alt="CrashPlanProeNew9.png" /></p>


</li>

</ol>
</li>

<li><p>Done!</p><p><b>Notes:</b></p>
<pSP-initiated flows are supported. </p>
<p>IdP-initiated flows and Just In Time (JIT) provisioning are not supported. </p>

<p>For SP-initiated flows:</p>
<p>Go to your server URL and select the <strong>Sign in using Single Sign-On</strong> hyperlink on the sign in screen, as shown below:

<p><img border="1" src="images/apps/CrashPlanProeNew10.png" alt=â€œCrashPlanProeNew10.png" /></p>
</ol>

</li>

</ol>
</div>
</body>
</html>