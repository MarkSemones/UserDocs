<html>
<head>
<link href="resources/css/doc-style.css" media="all" rel="stylesheet" type="text/css" />
<script src="//use.typekit.net/jff5neq.js" type="text/javascript"></script>
<script type="text/javascript">
try{Typekit.load();}catch(e){}
</script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script><script src="resources/scripts/vkbeautify.js"></script>

<title>Setup SSO</title>

<script src="resources/scripts/getAppValues.js"></script>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body>
<div class="header clearfix">
        <div class="logo-container">
            <img src="resources/css/okta-logo-white.png" alt="Okta" />
        </div>
    </div>
<h1>How to Configure SAML 2.0 for Jira On Premise SAML</h1>
<div class="okta-instructions">
<div id="loginAdminApp" class="okta-callout okta-error" style="display: none;"><span class="icon-24 icon-error"></span>
<p>This setup might fail without parameter values that are customized for your organization. Please use the Okta Administrator Dashboard to add an application and view the values that are specific for your organization.</p>
</div>
<ol>
<li>Create <strong>okta-config-jira.xml</strong> on the Jira server and paste the following configuration into it.<br /><br />&lt;configuration&gt;<br />&nbsp; &lt;applications&gt;<br />&nbsp; &nbsp; &lt;application&gt;<br />&nbsp; &nbsp; &nbsp; [Metadata]<br />&nbsp; &nbsp; &lt;/application&gt;<br />&nbsp; &lt;/applications&gt;<br />&lt;/configuration&gt;</li>
<li>Substitute the following text for [Metadata] in the file you just created.<br /><br /><pre id="idpMetadata">Sign into the Okta Admin dashboard to generate this value.</pre></li>
<li>Make the following updates to the <strong>[jira_webdir]/WEB-INF/classes/seraph-config.xml</strong> file.</li>
<ul>
<ul>
<li>
<p>Set the two corresponding param-value tags for the param-name <strong>login.url</strong> and the param-name <strong>link.login.url</strong> to the following value.</p>
<kbd id="signOnUrl">Sign into the Okta Admin dashboard to generate this value.</kbd></li>
<li>
<p>Locate the&nbsp;<strong>logout.url</strong>&nbsp;param-name and&nbsp;set the corresponding param-value to the following value.</p>
<kbd id="signOutUrl">Sign into the Okta Admin dashboard to generate this value. </kbd></li>
<li>
<p>Locate the&nbsp;<strong>&lt;authenticator class=...</strong>&nbsp;line, and replace it with the following xml, substituting the path to your okta-config-jira.xml file where indicated.</p>
<kbd>&lt;authenticator class="com.atlassian.jira.authenticator.okta.OktaJiraAuthenticator"&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&lt;init-param&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;param-name&gt;okta.config.file&lt;/param-name&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;param-value&gt;/<strong>path/to/your/okta-config-jira.xml</strong>&lt;/param-value&gt;<br /> &nbsp;&nbsp; &lt;/init-param&gt;<br /> &lt;/authenticator&gt;<br /></kbd></li>
</ul>
</ul>
<li><span style="font-size: 14px;" data-mce-mark="1">Copy the &nbsp;</span><a style="font-size: 14px;" href="https://eklein.oktapreview-admin.com/static/toolkits/okta-jira-1.0.5.jar">okta-jira.jar</a><span style="font-size: 14px;" data-mce-mark="1">&nbsp;file to the&nbsp;</span><strong style="font-size: 14px;">[jira_webdir]/WEB-INF/lib</strong><span style="font-size: 14px;" data-mce-mark="1">&nbsp;directory.</span></li>
<li>
<p>Restart your Jira service.</p>
</li>
</ol></div>
</body>
</html>
