<html>
<head>
<link href="resources/css/doc-style.css" media="all" rel="stylesheet" type="text/css" />
<script src="//use.typekit.net/jff5neq.js" type="text/javascript"></script>
<script type="text/javascript">
try{Typekit.load();}catch(e){}
</script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script><script src="resources/scripts/vkbeautify.js"></script>

<title>Setup SSO</title>

<script src="resources/scripts/getAppValues.js"></script>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body>
<div class="header clearfix">
        <div class="logo-container">
            <img src="resources/css/okta-logo-white.png" alt="Okta" />
        </div>
    </div>
<div class="okta-instructions">
<h1>How to Configure SAML 2.0 for ZScaler</h1>
<div id="loginAdminApp" class="okta-callout okta-error" style="display: none;"><span class="icon-24 icon-error"></span>
<p>This setup might fail without parameter values that are customized for your organization. Please use the Okta Administrator Dashboard to add an application and view the values that are specific for your organization.</p>
</div>
<ol>
<li>
<p>Log into the ZScaler application.</p>
</li>
<li>
<p>Select the <strong>Administration</strong> tab along the top.</p>
</li>
<li>
<p>Select <strong>Authentication Settings</strong> from the left navigation panel.</p>
</li>
<li>
<p>For <strong>Authentication Type</strong>, click the <strong>SAML</strong> button.</p>
</li>
<li>
<p>Click <strong>Configure SAML</strong>.</p>
</li>

<p><img src="images/apps/zscaler1.png" alt=“zscaler1.jpg" /></p>


<li><p>In the <strong>Identity Provider (IDP) Options</strong> section of the SAML Congifuration screen, enter the following (see screen shot at end of step for reference):</p>
<ul>

<li><p><strong>SAML Portal URL</strong>: Copy and paste the following:</p>
<p><kbd id="signOnUrl">Sign in to the Okta Admin app to have this variable generated for you.</kbd></p>
</li>
<li><p><strong>Login Name Attribute</strong>: Enter <strong>NameID</strong>.</p></li>
<li><p><strong>Public SSL Certificate</strong>: First click here to download the certificate for upload:</p>
<p><kbd id="downloadCertificatePem">Sign in to the Okta Admin app to have this variable generated for you.</kbd></p>
<p>Then click <strong>Upload</strong> to upload it to ZScaler.
</li>
<li><p>Click <strong>Save</strong>.</p></li>

<p><img src="images/apps/zscaler2.png" alt=“zscaler2.jpg" /></p>
</ul>
</li>




<li><p>Done!</p>


</ol></div>

<div class="okta-instructions"><a class="normal" style="display: none;" href="#">View smaller screenshot</a>
<h1 id="zscaler-setup-instructions">Setup Active Directory integration with ZScaler for Auto-Provisioning</h1>
<h2>To setup a Auto-Provisioning on ZScaler, first setup Okta application integration</h2>
<p>On the <strong>General</strong> tab configure for ZScaler:</p>
<ol>
<li>
<p>Select <strong>Display name mapping</strong> to Use. The user's <strong>display name</strong>, a concatenation of their first name and last name, is mapped to the attribute statement in the SAML Response.</p>
</li>
<li>
<p>Select <strong>Department mapping</strong> to AD Department. <br /> The user's AD department is mapped to the attribute statement in the SAML Response</p>
</li>
<li>
<p>Select <strong>Group mapping</strong> to Use. User's groups is mapped to the attribute statement in the SAML Response.</p>
</li>
<li>
<p><strong>Member of regular expression</strong> is used in conjunction with <strong>Group mapping</strong>. <br /> The expression is used to filter groups. Groups that match the configured filter are mapped to the attribute statement in the SAML Response.</p>
</li>
</ol>
<h2>Setup SAML Auto-Provisioning Options</h2>
<p>On the ZScaler <strong>Administration</strong> page, complete the following steps.</p>
<ol>
<li>
<p>Click <strong>Manage Users &amp; Authentication</strong>.</p>
</li>
<li>
<p>Click <strong>Edit</strong>, then click <strong>Configure SAML Single Sign-On parameters</strong>.</p>
</li>
<li>
<p>Click <strong>Enable SAML Auto-Provisioning</strong>.</p>
</li>
<li>
<p>For <strong>Attribute containing User Display Name</strong>&nbsp;enter the following:<br />&nbsp;<br /><kbd class="dashed-kbd">DisplayName</kbd></p>
</li>
<li>
<p>For <strong>Attribute containing Group Name</strong>&nbsp;enter the following:<br />&nbsp;<br /><kbd class="dashed-kbd">memberOf</kbd></p>
</li>
<li>
  <p>For <strong>Attribute containing Department Name</strong> enter the following:<br>
    <kbd class="dashed-kbd">Department</kbd></p>
</li>
<li>
<p>Press <strong>Done</strong>.</p>
</li>
<li>
<p>Press <strong>Save</strong>.</p>
</li>
<li>Open a browser window.</li><li><p>Set your browser proxy to <strong>gateway.[ yourZScalerDomain]:80</strong>. </p> <p>For example if your ZScaler Domain is <strong>zscalerbeta.net</strong>; use <strong>gateway.zscalerbeta.net:80</strong> proxy.</p></li><li><p>Add your Okta URL host (<strong>[yourSubdomain].okta.com</strong>) to the proxy bypass list.</p> 
<p>For example if you log into <strong>https://acme.okta.com/</strong>; enter <strong>acme.okta.com</strong>.</p><p>Here is an example, shown in a Firefox browser:</p>
<p><img src="images/apps/zscaler_new1.png" alt=“zscaler_new1.jpg" /></p>
</li>



</ol>

<p>Your users are ready to single sign-on to ZScaler.</p>

<hr>
<strong>Notes</strong>
<p>SP-initiated flows and Just In Time (JIT) provisioning are supported.</p><p>IDP-initiated flows are not supported.</p>
</ br>
</ br>
<h3>For SP-initiated flows:</h3>

<ol>
<li>Open your site.</li><li>You will be redirected to <strong>https://gateway.[yourZScalerDomain]</strong> and prompted for a <strong>User Name</strong>.</li><li><p>Enter your <strong>User Name</strong>, then click the <strong>Sign In</strong> button:</p>
<p><img src="images/apps/zscaler_new2.png" alt=“zscaler_new2.jpg" /></p></li>

</ol>


</div>
</body>
</html>
