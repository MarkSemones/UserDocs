<html>
<head>
<link href="../resources/css/doc-style.css" media="all" rel="stylesheet" type="text/css" />
<script src="../resources/js/jff5neq.js" type="text/javascript"></script>
<script type="text/javascript">
try{Typekit.load();}catch(e){}
</script>
<script src="../resources/js/jquery.min.js"></script>
<script src="../resources/js/vkbeautify.js"></script>
<title>Setup SSO</title>

<script src="../resources/js/getAppValues.js"></script>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body>
<div class="header clearfix">
        <div class="logo-container">
            <img src="../resources/img/okta-logo-white.png" alt="Okta" />
        </div>
    </div>
<div class="okta-instructions">
<h1>How to Configure SAML 2.0 for Birst</h1>

<div id="loginAdminApp" class="okta-callout okta-danger" style="display: none;">
<p><strong>This setup might fail without parameter values that are customized for your organization. Please use the Okta Administrator Dashboard to add an application and view the values that are specific for your organization.</strong></p>
</div>
<h2>Before you begin</h2>
<div class="okta-callout okta-warning"><span class="icon-24 icon-warning"></span>
<h3><strong>Read this before you enable SAML</strong></h3>
<p>The Birst application is pre-configured to pass the custom attributes as part of the SAML assertion. Make sure that the custom attributes are populated in the Okta User Base Profile, and also have the correct attribute mappings set with AD/LDAP (if needed). If this value is empty, Okta will pass null values to Birst.</p>
<p>If you don’t need to send custom attributes, skip these steps.</p>
</li>

<p>Follow these instructions to add a custom attribute:</p>

<ol>
<li><p>In Okta, navigate to <strong>Admin > Directory > Profile Editor</strong>.</p></li>
<li><p>Select the <strong>Okta</strong> filter in the left side navigational pane.</p></li>
<li><p>Click the edit <strong>Profile</strong> button.</p>


<p><img src="images/apps/birst1.png" alt=“birst1.png" /></p>
</li>

<li><p>Click <strong>Add Attribute</strong>.</p>

<p><img src="images/apps/birst2.png" alt=“birst2.png" /></p>
</li>

<li><p>Enter an attribute value for the <strong>Display name</strong> and <strong>Variable name</strong> fields.</p></li>

<li><p>If needed, enter a <strong>Data Type</strong>.</p></li>

<li><p>Click <strong>Add Attribute</strong>.</p>
<p><img src="images/apps/birst3.png" alt=“birst3.png" /></p>
</li>
</ol>
<br />

<p>The following Birst attributes are supported:</p>


<table class="gridtable">

<tr>

<th><strong>Birst Attribute Name</strong></th>
<th><strong>Okta Attribute Variable Name</strong></th>
</tr>

<tr>
<td align="left">birst.embedded</td>
<td align="left"><p>birst_embedded</p>
</td>
</tr>

<tr>
<td align="left">birst.module</td>
<td align="left"><p>birst_module</p>
</td>
</tr>

<tr>
<td align="left">birst.spaceId</td>
<td align="left"><p>birst_spaceId</p>
</td>
</tr>

<tr>
<td align="left">birst.dashboard</td>
<td align="left"><p>birst_dashboard</p>
</td>
</tr>
<tr>
<td align="left">birst.page</td>
<td align="left"><p>birst_page</p>
</td>
</tr>
<tr>
<td align="left">birst.filters</td>
<td align="left"><p>birst_filters</p>
</td>
</tr>
<tr>
<td align="left">birst.hideDashboardNavigation</td>
<td align="left"><p>birst_hideDashboardNavigation</p>
</td>
</tr>

<tr>
<td align="left">birst.hideHeader</td>
<td align="left"><p>birst_hideHeader</p>
</td>
</tr>

<tr>
<td align="left">birst.themeName</td>
<td align="left"><p>birst_themeName</p>
</td>
</tr>

<tr>
<td align="left">birst.dashboardParams</td>
<td align="left"><p>birst_dashboardParams</p>
</td>
</tr>

<tr>
<td align="left">birst.dashParamsSeparator</td>
<td align="left"><p>birst_dashParamsSeparator</p>
</td>
</tr>

<tr>
<td align="left">birst.hideDashboardPrompts</td>
<td align="left"><p>birst_hideDashboardPrompts</p>
</td>
</tr>

<tr>
<td align="left">birst.viewMode</td>
<td align="left"><p>birst_viewMode</p>
</td>
</tr>

<tr>
<td align="left">birst.filterLayout</td>
<td align="left"><p>birst_filterLayout</p>
</td>
</tr>


<tr>
<td align="left">birst.renderType</td>
<td align="left"><p>birst_renderType</p>
</td>
</tr>


<tr>
<td align="left">birst.viewHTML5</td>
<td align="left"><p>birst_viewHTML5</p>
</td>
</tr>


<tr>
<td align="left">birst.helpURL</td>
<td align="left"><p>birst_helpURL</p>
</td>
</tr>

<tr>
<td align="left">embeddedView</td>
<td align="left"><p>birst_embeddedView</p>
</td>
</tr>

<tr>
<td align="left">reportName</td>
<td align="left"><p>birst_reportName</p>
</td>
</tr>

<tr>
<td align="left">birst.userLoginName</td>
<td align="left"><p>birst_userLoginName</p>
</td>
</tr>

<tr>
<td align="left">birst.userEmailAddress</td>
<td align="left"><p>birst_userEmailAddress</p>
</td>
</tr>

<tr>
<td align="left">birst.accountId</td>
<td align="left"><p>birst_accountId</p>
</td>
</tr>


<tr>
<td align="left">birst.memberSpaces</td>
<td align="left"><p>birst_memberSpaces</p>
</td>
</tr>

<tr>
<td align="left">birst.userProfile</td>
<td align="left"><p>birst_userProfile</p>
</td>
</tr>


<tr>
<td align="left">birst.defaultSpace</td>
<td align="left"><p>birst_defaultSpace</p>
</td>
</tr>


<tr>
<td align="left">birst.dashboardsView</td>
<td align="left"><p>birst_dashboardsView</p>
</td>
</tr>


<tr>
<td align="left">birst.spaceCreation</td>
<td align="left"><p>birst_spaceCreation</p>
</td>
</tr>


<tr>
<td align="left">birst.userProfile</td>
<td align="left"><p>birst_userProfile</p>
</td>
</tr>



</table>

</div>



<h2>SAML Configuration Steps</h2>


<ol>
<li><p>Log in to Birst as an administrator.</p></li>
<li><p>From the Home page, click <strong>ACCOUNT SETTINGS</strong>:</p>
<p><img border="1" src="images/apps/birstnew1.png" alt=“birstnew1.png" /></p>
</li>
<li><p>On the <strong>SAML Configurations</strong> tab, click <strong>Add</strong> (the + sign).</p></li>
<li><p>Enter a name for your new configuration (here <strong>MySAMLConfiguration</strong>), then click <strong>Save</strong> (the check mark).</p>
<p><img border="1" src="images/apps/birstnew2.png" alt=“birstnew2.png" /></p>
<p>The SAML configuration screen appears:</p>
<p><img border="1" src="images/apps/birstnew3.png" alt=“birstnew3.png" /></p>
</li>




<li><p>Enter the <strong>Identity Provider Issuer</strong>, also called the Entity ID: Copy and paste the following:</p>
<p><kbd id="issuer">Sign into the Okta Admin Dashboard to generate this variable.</kbd></p>
</li>

<li><p>Provide a <strong>Certificate</strong>: Copy and paste the following (in PEM text format):</p>
<pre id="x509CertTextPem">Sign into the Okta Admin Dashboard to generate this variable.</pre></li>

<li><p>Optionally, enter the URL for a custom error page to be redirected to if an error occurs.</p></li>

<li><p>Optionally, enter the URL for a custom log out page to be redirected to on log out.</p></li>

<li><p>Enter the idle duration in minutes after which a timeout occurs. The default is 20 minutes.</p></li>

<li><p>If you want to allow service provider-initiated access:</p>
<ol>
<li><p>Check <strong>SP-Initiated</strong>.</p></li>
<li><p><strong>Identity Provider Single Sign-On</strong>: Copy and paste the following:</p>
<p><kbd id="signOnUrl">Sign into the Okta Admin Dashboard to generate this variable.</kbd></p>
</li>
</ol>
</li>

<li><p>Click <strong>Save</strong>.</p></li>

<li><p>For service provider-initiated access:</p>
<ol>
<li><p>After you click <strong>Save</strong>, Birst generates and displays a <strong>SAML Configuration ID</strong>.</p></li>
<li><p>Use this <strong>SAML Configuration ID</strong> value in the <em>birst.idp</em> query parameter for logging into Birst. For example:<p>
<p><strong>https://login.bws.birst.com/SAMLSSO/Services.aspx?birst.idpid=SAML_config_ID</strong></p></li>

<li><p>When browsers connect to this URL, they are redirected to the <strong>Identity Provider Single Sign-On URL</strong> as specified in Step 10.</p></li>
</ol>
<p>Tip: Users can bookmark the redirect URL for easier access to Birst.</p>

</li>

<li><p><strong>OPTIONAL</strong>: The Birst application is pre-configured to pass the groups as part of the SAML assertion. The following groups attributes are supported: <em>birst.globalGroups</em>, <em>birst.group</em>. In order to send user groups as part of the SAML assertion:</p>
<ul>
<li><p>In OKTA, select the <strong>Sign On</strong> tab for the Birst app, then click <strong>Edit</strong>.</p></li><li><p>Select your preferred group filter from the dropdown list (the Regex rule with the value ".*" in order to send *all* groups to the Birst instance we used in our example) for the required attribute.</p></li>
<li><p>Click <strong>Save</strong>.</p></li>
</ul>

<p><img border="1" src="images/apps/birst_new1.png" alt=“birst_new1.png" /></p>

</li>


<li><p>Done!</p></li>
</ol>
<br />

<p><b>Notes:</b></p>
<p>IdP-initiated flows, SP-initiated flows, and Just In Time (JIT) provisioning are all supported. </p>

<p>For SP-initiated flows:</p>

<p>Open the following URL: <strong>[yourBaseUrl]?birst.idpid=[yourIdpId]</strong></p>

</div>
</body>
</html>
